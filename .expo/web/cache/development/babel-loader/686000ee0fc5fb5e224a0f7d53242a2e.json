{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeLargelistV = require(\"react-native-largelist-v3\");\n\nvar _NormalHeader = require(\"react-native-spring-scrollview/NormalHeader\");\n\nvar _BaseStyles = require(\"../../../../../constants/BaseStyles\");\n\nvar _Layout = require(\"../../../../../constants/Layout\");\n\nvar _ProductItem = _interopRequireDefault(require(\"./ProductItem/ProductItem\"));\n\nvar _ProductList = _interopRequireDefault(require(\"./ProductList.style\"));\n\nvar _reactI18next = require(\"react-i18next\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\ADMINS\\\\Desktop\\\\GreenApp\\\\CoffeXanh\\\\src\\\\screens\\\\root\\\\menu\\\\components\\\\productList\\\\ProductList.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar ProductList = function (_React$Component) {\n  (0, _inherits2.default)(ProductList, _React$Component);\n\n  var _super = _createSuper(ProductList);\n\n  function ProductList(_props2) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, ProductList);\n    _this = _super.call(this, _props2);\n\n    _this.renderItemList = function (_ref) {\n      var section = _ref.section,\n          row = _ref.row;\n      var item = _this.productData[section].items[row];\n      return _this.renderItems({\n        item: item\n      });\n    };\n\n    _this.renderItem = function (props, key) {\n      return _react.default.createElement(_ProductItem.default, (0, _extends2.default)({}, props, {\n        key: key,\n        updateFavorite: _this.props.updateFavorite,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 5\n        }\n      }));\n    };\n\n    _this.renderItems = function (_ref2) {\n      var _ref2$item = _ref2.item,\n          header = _ref2$item.header,\n          items = _ref2$item.items;\n      return _react.default.createElement(_reactNative.View, {\n        style: [_BaseStyles.BaseStyles.flexColumn],\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: [_BaseStyles.BaseFontStyles.title, _ProductList.default.title],\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, _this.props.t(header).toUpperCase()), _react.default.createElement(_reactNative.View, {\n        style: [_BaseStyles.BaseStyles.flexRow, _ProductList.default.itemListContainer],\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, items.map(function (val, key) {\n        return _this.renderItem(val, key);\n      })));\n    };\n\n    _this.productData = _props2.productData.length > 0 ? _props2.productData : [{\n      items: []\n    }];\n    _this.state = {\n      isLoading: true\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(ProductList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState, nextContext) {\n      var shouldUpdate = JSON.stringify(nextProps.productData) !== JSON.stringify(this.productData);\n\n      if (shouldUpdate) {\n        this.productData = nextProps.productData;\n      }\n\n      return shouldUpdate;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var onRefresh = this.props.onRefresh;\n      var _props = {};\n\n      if (onRefresh) {\n        _props.onRefresh = function () {\n          _this2.props.productData ? onRefresh() : _this2._list.endRefresh();\n        };\n\n        _props.refreshHeader = _NormalHeader.NormalHeader;\n      }\n\n      return _react.default.createElement(_reactNative.View, {\n        style: [_ProductList.default.container],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeLargelistV.LargeList, (0, _extends2.default)({\n        style: [_ProductList.default.container],\n        data: this.productData,\n        heightForIndexPath: function heightForIndexPath(_ref3) {\n          var section = _ref3.section,\n              row = _ref3.row;\n          return Math.ceil(_this2.productData[section].items[row].items.length / 2) * ((0, _Layout.normalize)(233) + 16) + 25;\n        },\n        renderIndexPath: this.renderItemList,\n        groupCount: this.productData.length,\n        updateTimeInterval: 100,\n        ref: function ref(_ref4) {\n          return _this2._list = _ref4;\n        },\n        contentStyle: {\n          paddingVertical: 10\n        },\n        showsHorizontalScrollIndicator: false,\n        showsVerticalScrollIndicator: false\n      }, _props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n  return ProductList;\n}(_react.default.Component);\n\nvar _default = (0, _reactI18next.withTranslation)()(ProductList);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/ADMINS/Desktop/GreenApp/CoffeXanh/src/screens/root/menu/components/productList/ProductList.js"],"names":["ProductList","props","renderItemList","section","row","item","productData","items","renderItems","renderItem","key","updateFavorite","header","BaseStyles","flexColumn","BaseFontStyles","title","styles","t","toUpperCase","flexRow","itemListContainer","map","val","length","state","isLoading","nextProps","nextState","nextContext","shouldUpdate","JSON","stringify","onRefresh","_props","_list","endRefresh","refreshHeader","NormalHeader","container","Math","ceil","ref","paddingVertical","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { StyleSheet, Text, View } from 'react-native';\r\nimport { LargeList } from 'react-native-largelist-v3';\r\nimport { NormalHeader } from 'react-native-spring-scrollview/NormalHeader';\r\nimport {\r\n  BaseFontStyles,\r\n  BaseStyles,\r\n} from '../../../../../constants/BaseStyles';\r\nimport { normalize } from '../../../../../constants/Layout';\r\nimport ProductItem from './ProductItem/ProductItem';\r\nimport styles from './ProductList.style';\r\nimport { useTranslation, withTranslation } from 'react-i18next';\r\n\r\nclass ProductList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.productData =\r\n      props.productData.length > 0 ? props.productData : [{ items: [] }];\r\n    this.state = { isLoading: true };\r\n    // console.log('ProductList', 'productData', JSON.stringify(this.productData));\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    const shouldUpdate =\r\n      JSON.stringify(nextProps.productData) !==\r\n      JSON.stringify(this.productData);\r\n    if (shouldUpdate) {\r\n      this.productData = nextProps.productData;\r\n    }\r\n    return shouldUpdate;\r\n  }\r\n\r\n  render() {\r\n    const { onRefresh } = this.props;\r\n    const _props = {};\r\n    if (onRefresh) {\r\n      _props.onRefresh = () => {\r\n        this.props.productData ? onRefresh() : this._list.endRefresh();\r\n      };\r\n      _props.refreshHeader = NormalHeader;\r\n    }\r\n    return (\r\n      <View\r\n        style={[styles.container]}>\r\n        <LargeList\r\n          style={[styles.container]}\r\n          data={this.productData}\r\n          heightForIndexPath={({ section, row }) =>\r\n            Math.ceil(this.productData[section].items[row].items.length / 2) *\r\n              (normalize(233) + 16) +\r\n            25\r\n          }\r\n          renderIndexPath={this.renderItemList}\r\n          // renderEmpty={this.renderEmpty}\r\n          groupCount={this.productData.length}\r\n          updateTimeInterval={100}\r\n          ref={ref => (this._list = ref)}\r\n          contentStyle={{paddingVertical: 10}}\r\n          showsHorizontalScrollIndicator={false}\r\n          showsVerticalScrollIndicator={false}\r\n          {..._props}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderItemList = ({ section, row }) => {\r\n    let item = this.productData[section].items[row];\r\n    return this.renderItems({ item });\r\n  };\r\n\r\n  renderItem = (props, key) => (\r\n    <ProductItem\r\n      {...props}\r\n      key={key}\r\n      updateFavorite={this.props.updateFavorite}\r\n    />\r\n  );\r\n\r\n  renderItems = ({ item: { header, items } }) => {\r\n    return (\r\n      <View style={[BaseStyles.flexColumn]}>\r\n        <Text style={[BaseFontStyles.title, styles.title]}>\r\n          {this.props.t(header).toUpperCase()}\r\n        </Text>\r\n        <View style={[BaseStyles.flexRow, styles.itemListContainer]}>\r\n          {items.map((val, key) => this.renderItem(val, key))}\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n}\r\n\r\nexport default withTranslation()(ProductList);\r\n"]},"metadata":{},"sourceType":"script"}