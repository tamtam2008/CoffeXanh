{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectDestructuringEmpty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactI18next = require(\"react-i18next\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _Container = _interopRequireDefault(require(\"../../../components/layout/Container\"));\n\nvar _useRootNavigation = _interopRequireDefault(require(\"../../../utils/useRootNavigation\"));\n\nvar _NoticeUtils = _interopRequireDefault(require(\"../../../session/NoticeUtils\"));\n\nvar _AppUtils = require(\"../../../utils/AppUtils\");\n\nvar _reactNativeElements = require(\"react-native-elements\");\n\nvar _BaseStyles = require(\"../../../constants/BaseStyles\");\n\nvar _Colors = _interopRequireDefault(require(\"../../../constants/Colors\"));\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ADMINS\\\\Desktop\\\\GreenApp\\\\CoffeXanh\\\\src\\\\screens\\\\root\\\\noti\\\\Noti.screen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar navigation = (0, _useRootNavigation.default)();\n\nvar NotiScreen = function NotiScreen(_ref) {\n  (0, _objectDestructuringEmpty2.default)(_ref);\n\n  var _useTranslation = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useState = (0, _react.useState)(_NoticeUtils.default.notices().sort((0, _AppUtils.dynamicSort)('sentTime', 'desc'))),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      notiData = _useState2[0],\n      setNotiData = _useState2[1];\n\n  (0, _react.useLayoutEffect)(function () {\n    var cb = _NoticeUtils.default.addCallBack(function () {\n      setNotiData(_NoticeUtils.default.notices().sort((0, _AppUtils.dynamicSort)('sentTime', 'desc')));\n    });\n\n    return function () {\n      _NoticeUtils.default.removeCallBack(cb);\n    };\n  }, []);\n  return _react.default.createElement(_Container.default, {\n    isFail: notiData.length === 0,\n    failMsg: t('NotiScreen.emptyMsg'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.FlatList, {\n    data: notiData,\n    renderItem: function renderItem(_ref2) {\n      var _item$data, _icon$item$data$type, _item$data2;\n\n      var item = _ref2.item;\n      return _react.default.createElement(_reactNativeElements.ListItem, {\n        title: _react.default.createElement(_reactNative.View, {\n          style: [_BaseStyles.BaseStyles.flexColumn],\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: [_BaseStyles.BaseFontStyles.menuOrBody2],\n          numberOfLines: 1,\n          lineBreakMode: 'tail',\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 17\n          }\n        }, item.notification.title), _react.default.createElement(_reactNative.Text, {\n          style: [_BaseStyles.BaseFontStyles.body1],\n          numberOfLines: 2,\n          lineBreakMode: 'tail',\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }\n        }, item.notification.body)),\n        leftElement: _react.default.createElement(_reactNative.Image, {\n          source: (item == null ? void 0 : (_item$data = item.data) == null ? void 0 : _item$data.type) ? (_icon$item$data$type = icon[item == null ? void 0 : (_item$data2 = item.data) == null ? void 0 : _item$data2.type]) != null ? _icon$item$data$type : require('../../../../assets/images/1.png') : require('../../../../assets/images/1.png'),\n          style: {\n            width: 36,\n            height: 36\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }\n        }),\n        rightElement: _react.default.createElement(_reactNative.View, {\n          style: {\n            width: 10,\n            height: 10,\n            backgroundColor: _Colors.default.red,\n            borderRadius: 5\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }\n        }),\n        containerStyle: _objectSpread(_objectSpread({}, _BaseStyles.BaseStyles.boxWithShadow), {}, {\n          marginVertical: 5,\n          borderRadius: 5,\n          marginHorizontal: 16\n        }),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar icon = {\n  1: require('../../../../assets/images/3.png'),\n  2: require('../../../../assets/images/3.png'),\n  3: require('../../../../assets/images/2.png')\n};\nvar _default = NotiScreen;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/ADMINS/Desktop/GreenApp/CoffeXanh/src/screens/root/noti/Noti.screen.js"],"names":["navigation","NotiScreen","t","NoticeUtils","notices","sort","notiData","setNotiData","cb","addCallBack","removeCallBack","length","item","BaseStyles","flexColumn","BaseFontStyles","menuOrBody2","notification","title","body1","body","data","type","icon","require","width","height","backgroundColor","Colors","red","borderRadius","boxWithShadow","marginVertical","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { FlatList, Text, View, Image, StyleSheet } from 'react-native';\r\nimport Container from '../../../components/layout/Container';\r\nimport useRootNavigation from '../../../utils/useRootNavigation';\r\nimport NoticeUtils from '../../../session/NoticeUtils';\r\nimport { dynamicSort } from '../../../utils/AppUtils';\r\nimport { ListItem } from 'react-native-elements';\r\nimport { BaseFontStyles, BaseStyles } from '../../../constants/BaseStyles';\r\nimport Colors from '../../../constants/Colors';\r\n\r\nconst navigation = useRootNavigation();\r\nconst NotiScreen = ({}) => {\r\n  const { t } = useTranslation();\r\n  const [notiData, setNotiData] = useState(\r\n    NoticeUtils.notices().sort(dynamicSort('sentTime', 'desc')),\r\n  );\r\n  useLayoutEffect(() => {\r\n    const cb = NoticeUtils.addCallBack(() => {\r\n      setNotiData(NoticeUtils.notices().sort(dynamicSort('sentTime', 'desc')));\r\n    });\r\n    return () => {\r\n      NoticeUtils.removeCallBack(cb);\r\n    };\r\n  }, []);\r\n  return (\r\n    <Container\r\n      isFail={notiData.length === 0}\r\n      failMsg={t('NotiScreen.emptyMsg')}>\r\n      <FlatList\r\n        data={notiData}\r\n        renderItem={({ item }) => (\r\n          <ListItem\r\n            title={\r\n              <View style={[BaseStyles.flexColumn]}>\r\n                <Text\r\n                  style={[BaseFontStyles.menuOrBody2]}\r\n                  numberOfLines={1}\r\n                  lineBreakMode={'tail'}>\r\n                  {item.notification.title}\r\n                </Text>\r\n                <Text\r\n                  style={[BaseFontStyles.body1]}\r\n                  numberOfLines={2}\r\n                  lineBreakMode={'tail'}>\r\n                  {item.notification.body}\r\n                </Text>\r\n              </View>\r\n            }\r\n            leftElement={\r\n              <Image\r\n                source={\r\n                  item?.data?.type\r\n                    ? icon[(item?.data?.type)] ??\r\n                      require('../../../../assets/images/1.png')\r\n                    : require('../../../../assets/images/1.png')\r\n                }\r\n                style={{ width: 36, height: 36 }}\r\n              />\r\n            }\r\n            rightElement={\r\n              <View\r\n                style={{\r\n                  width: 10,\r\n                  height: 10,\r\n                  backgroundColor: Colors.red,\r\n                  borderRadius: 5,\r\n                }}\r\n              />\r\n            }\r\n            containerStyle={{\r\n              ...BaseStyles.boxWithShadow,\r\n              marginVertical: 5,\r\n              borderRadius: 5,\r\n              marginHorizontal: 16,\r\n            }}\r\n          />\r\n        )}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst icon = {\r\n  1: require('../../../../assets/images/3.png'),\r\n  2: require('../../../../assets/images/3.png'),\r\n  3: require('../../../../assets/images/2.png'),\r\n};\r\n\r\nexport default NotiScreen;\r\n"]},"metadata":{},"sourceType":"script"}