{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactI18next = require(\"react-i18next\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _Container = _interopRequireDefault(require(\"../../../../../../components/layout/Container\"));\n\nvar _XModal = _interopRequireDefault(require(\"../../../../../../components/layout/XModal\"));\n\nvar _XIconButton = _interopRequireDefault(require(\"../../../../../../components/XIconButton\"));\n\nvar _BaseStyles = require(\"../../../../../../constants/BaseStyles\");\n\nvar _Colors = _interopRequireDefault(require(\"../../../../../../constants/Colors\"));\n\nvar _Icon = require(\"../../../../../../constants/Icon\");\n\nvar _Layout = _interopRequireDefault(require(\"../../../../../../constants/Layout\"));\n\nvar _ProductList = _interopRequireDefault(require(\"../../productList/ProductList\"));\n\nvar _SearchProduct = _interopRequireDefault(require(\"./SearchProduct.reducer\"));\n\nvar _SearchProduct2 = _interopRequireDefault(require(\"./SearchProduct.controller\"));\n\nvar _stack = require(\"@react-navigation/stack\");\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ADMINS\\\\Desktop\\\\GreenApp\\\\CoffeXanh\\\\src\\\\screens\\\\root\\\\menu\\\\components\\\\productModal\\\\searchProduct\\\\SearchProduct.screen.js\";\n\nvar SearchProductScreen = function SearchProductScreen(_ref) {\n  var visible = _ref.visible,\n      onClose = _ref.onClose;\n\n  var _useReducer = (0, _react.useReducer)(_SearchProduct.default.reducer, _SearchProduct.default.initState),\n      _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      term = _useState2[0],\n      setTerm = _useState2[1];\n\n  var _useTranslation = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation.t;\n\n  var buttonRightSize = 0;\n\n  if (state.isRequesting) {\n    buttonRightSize += 30;\n  }\n\n  if (term && term.trim() !== '') {\n    buttonRightSize += 30;\n  }\n\n  var closeModal = (0, _react.useCallback)(function () {\n    setTerm('');\n    onClose();\n  }, [onClose]);\n  return _react.default.createElement(_XModal.default, {\n    visible: visible,\n    onClose: closeModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.SafeAreaView, {\n    style: [styles.popupContainer],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    style: [_BaseStyles.BaseStyles.boxWithShadow, styles.headerContainer],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_stack.HeaderBackButton, {\n    onPress: closeModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), _react.default.createElement(_reactNative.View, {\n    style: [styles.titleContainer, _reactNative.StyleSheet.flatten({\n      width: _Layout.default.window.width - buttonRightSize - 78\n    })],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.TextInput, {\n    placeholder: 'Tìm kiếm',\n    autoFocus: true,\n    style: [_BaseStyles.BaseFontStyles.body1, styles.textInput],\n    value: term,\n    onChangeText: function onChangeText(txt) {\n      setTerm(txt);\n\n      _SearchProduct2.default.search(term, dispatch);\n    },\n    onEndEditing: function onEndEditing(e) {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  })), state.isRequesting ? _react.default.createElement(_reactNative.ActivityIndicator, {\n    size: 20,\n    style: [styles.buttonRight],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }) : null, term && term.trim() !== '' ? _react.default.createElement(_XIconButton.default, {\n    icon: {\n      name: 'times',\n      type: _Icon.IconType.FONTAWESOME,\n      size: 20\n    },\n    color: _Colors.default.gray,\n    style: [styles.buttonRight, {\n      paddingHorizontal: 10,\n      paddingVertical: 6\n    }],\n    onPress: function onPress() {\n      return setTerm('');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }) : null), _react.default.createElement(_Container.default, {\n    isLoading: state.isRequesting,\n    isFail: state.isFail,\n    failMsg: t(state.failMsg),\n    scrollEnabled: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, term ? _react.default.createElement(_ProductList.default, {\n    productData: state.productData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }) : null)));\n};\n\nvar _default = SearchProductScreen;\nexports.default = _default;\n\nvar styles = _reactNative.StyleSheet.create({\n  popupContainer: {\n    flex: 1,\n    width: _Layout.default.window.width\n  },\n  headerContainer: {\n    backgroundColor: '#fff',\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingRight: 10\n  },\n  titleContainer: {\n    paddingRight: 10\n  },\n  textInput: {\n    width: '100%',\n    paddingHorizontal: 5\n  },\n  buttonLeft: {\n    paddingHorizontal: 16\n  },\n  buttonRight: {\n    paddingHorizontal: 5\n  }\n});","map":{"version":3,"sources":["C:/Users/ADMINS/Desktop/GreenApp/CoffeXanh/src/screens/root/menu/components/productModal/searchProduct/SearchProduct.screen.js"],"names":["SearchProductScreen","visible","onClose","SearchProductScreenReducer","reducer","initState","state","dispatch","term","setTerm","t","buttonRightSize","isRequesting","trim","closeModal","styles","popupContainer","BaseStyles","boxWithShadow","headerContainer","titleContainer","StyleSheet","flatten","width","Layout","window","BaseFontStyles","body1","textInput","txt","SearchProductScreenController","search","e","buttonRight","name","type","IconType","FONTAWESOME","size","Colors","gray","paddingHorizontal","paddingVertical","isFail","failMsg","productData","create","flex","backgroundColor","flexDirection","alignItems","paddingRight","buttonLeft"],"mappings":"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","sourcesContent":["import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  ActivityIndicator,\r\n  Animated,\r\n  StyleSheet,\r\n  SafeAreaView,\r\n  TextInput,\r\n  View,\r\n} from 'react-native';\r\nimport Container from '../../../../../../components/layout/Container';\r\nimport XModal from '../../../../../../components/layout/XModal';\r\nimport XIconButton from '../../../../../../components/XIconButton';\r\nimport {\r\n  BaseFontStyles,\r\n  BaseStyles,\r\n} from '../../../../../../constants/BaseStyles';\r\nimport Colors from '../../../../../../constants/Colors';\r\nimport { IconType } from '../../../../../../constants/Icon';\r\nimport Layout from '../../../../../../constants/Layout';\r\nimport ProductList from '../../productList/ProductList';\r\nimport SearchProductScreenReducer from './SearchProduct.reducer';\r\nimport SearchProductScreenController from './SearchProduct.controller';\r\nimport { HeaderBackButton } from '@react-navigation/stack';\r\n\r\nconst SearchProductScreen = ({ visible, onClose }) => {\r\n  const [state, dispatch] = useReducer(\r\n    SearchProductScreenReducer.reducer,\r\n    SearchProductScreenReducer.initState,\r\n  );\r\n  const [term, setTerm] = useState('');\r\n  const { t } = useTranslation();\r\n\r\n  var buttonRightSize = 0;\r\n  if (state.isRequesting) {\r\n    buttonRightSize += 30;\r\n  }\r\n  if (term && term.trim() !== '') {\r\n    buttonRightSize += 30;\r\n  }\r\n  const closeModal = useCallback(() => {\r\n    setTerm('');\r\n    onClose();\r\n  }, [onClose]);\r\n  return (\r\n    <XModal visible={visible} onClose={closeModal}>\r\n      <SafeAreaView style={[styles.popupContainer]}>\r\n        <View style={[BaseStyles.boxWithShadow, styles.headerContainer]}>\r\n          <HeaderBackButton onPress={closeModal} />\r\n          <View\r\n            style={[\r\n              styles.titleContainer,\r\n              StyleSheet.flatten({\r\n                width: Layout.window.width - buttonRightSize - 78,\r\n              }),\r\n            ]}>\r\n            <TextInput\r\n              placeholder={'Tìm kiếm'}\r\n              autoFocus={true}\r\n              style={[BaseFontStyles.body1, styles.textInput]}\r\n              value={term}\r\n              onChangeText={(txt) => {\r\n                setTerm(txt);\r\n                SearchProductScreenController.search(term, dispatch);\r\n              }}\r\n              onEndEditing={(e) => {}}\r\n            />\r\n          </View>\r\n          {state.isRequesting ? (\r\n            <ActivityIndicator size={20} style={[styles.buttonRight]} />\r\n          ) : null}\r\n          {term && term.trim() !== '' ? (\r\n            <XIconButton\r\n              icon={{ name: 'times', type: IconType.FONTAWESOME, size: 20 }}\r\n              color={Colors.gray}\r\n              style={[\r\n                styles.buttonRight,\r\n                { paddingHorizontal: 10, paddingVertical: 6 },\r\n              ]}\r\n              onPress={() => setTerm('')}\r\n            />\r\n          ) : null}\r\n        </View>\r\n        <Container\r\n          isLoading={state.isRequesting}\r\n          isFail={state.isFail}\r\n          failMsg={t(state.failMsg)}\r\n          scrollEnabled={false}>\r\n          {term ? <ProductList productData={state.productData} /> : null}\r\n        </Container>\r\n      </SafeAreaView>\r\n    </XModal>\r\n  );\r\n};\r\n\r\nexport default SearchProductScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  popupContainer: { flex: 1, width: Layout.window.width },\r\n  headerContainer: {\r\n    backgroundColor: '#fff',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    paddingRight: 10,\r\n  },\r\n  titleContainer: {\r\n    paddingRight: 10,\r\n  },\r\n  textInput: {\r\n    width: '100%',\r\n    paddingHorizontal: 5,\r\n  },\r\n  buttonLeft: {\r\n    paddingHorizontal: 16,\r\n  },\r\n  buttonRight: {\r\n    paddingHorizontal: 5,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"script"}