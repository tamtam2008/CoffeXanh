{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dynamicSort = dynamicSort;\nexports.backButtonHandler = backButtonHandler;\nexports.ExitApp = ExitApp;\nexports.formatCurrency = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _App = _interopRequireDefault(require(\"../config/App.config\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeFlashMessage = require(\"react-native-flash-message\");\n\nvar _BaseStyles = require(\"../constants/BaseStyles\");\n\nvar _reactTimerMixin = _interopRequireDefault(require(\"react-timer-mixin\"));\n\nvar _i18next = _interopRequireDefault(require(\"i18next\"));\n\nvar _Layout = _interopRequireDefault(require(\"../constants/Layout\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar formatCurrency = function formatCurrency(amount) {\n  return Number(amount.toFixed(0)).toLocaleString().replace(/\\d(?=(\\d{3})+$)/g, '$&,') + (\" \" + _App.default.CurrencyUnit);\n};\n\nexports.formatCurrency = formatCurrency;\n\nfunction dynamicSort(property, order) {\n  var sort_order = 1;\n\n  if (order === 'desc') {\n    sort_order = -1;\n  }\n\n  return function (a, b) {\n    if (a[property] < b[property]) {\n      return -1 * sort_order;\n    } else if (a[property] > b[property]) {\n      return sort_order;\n    } else {\n      return 0;\n    }\n  };\n}\n\nfunction backButtonHandler() {\n  var count = 0;\n  var handler = null;\n  return function () {\n    if (_reactNative.Platform.OS === 'android') {\n      var listener = _reactNative.BackHandler.addEventListener('hardwareBackPress', function () {\n        count = count + 1;\n\n        if (count > 1) {\n          ExitApp();\n        } else {\n          (0, _reactNativeFlashMessage.showMessage)({\n            message: _i18next.default.t('common.backNoti'),\n            position: 'bottom',\n            duration: 1000,\n            titleStyle: _objectSpread(_objectSpread({}, _BaseStyles.BaseFontStyles.body1), {}, {\n              color: '#fff'\n            }),\n            style: {\n              marginBottom: 10,\n              marginHorizontal: _Layout.default.window.width * 0.1,\n              borderRadius: 50,\n              justifyContent: 'center',\n              alignItems: 'center',\n              textAlign: 'center',\n              paddingVertical: 0\n            }\n          });\n        }\n\n        if (handler != null) {\n          _reactTimerMixin.default.clearInterval(handler);\n        }\n\n        handler = _reactTimerMixin.default.setInterval(function () {\n          if (count > 0) {\n            count = count - 1;\n          } else {\n            _reactTimerMixin.default.clearInterval(handler);\n          }\n        }, 1000);\n        return true;\n      });\n\n      return function () {\n        listener.remove();\n      };\n    }\n  };\n}\n\nfunction ExitApp() {\n  _reactNative.BackHandler.exitApp();\n}","map":{"version":3,"sources":["C:/Users/ADMINS/Desktop/GreenApp/CoffeXanh/src/utils/AppUtils.js"],"names":["formatCurrency","amount","Number","toFixed","toLocaleString","replace","AppConfig","CurrencyUnit","dynamicSort","property","order","sort_order","a","b","backButtonHandler","count","handler","Platform","OS","listener","BackHandler","addEventListener","ExitApp","message","i18n","t","position","duration","titleStyle","BaseFontStyles","body1","color","style","marginBottom","marginHorizontal","Layout","window","width","borderRadius","justifyContent","alignItems","textAlign","paddingVertical","TimerMixin","clearInterval","setInterval","remove","exitApp"],"mappings":";;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEO,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,MAAM;AAAA,SAClCC,MAAM,CAACD,MAAM,CAACE,OAAP,CAAe,CAAf,CAAD,CAAN,CACGC,cADH,GAEGC,OAFH,CAEW,kBAFX,EAE+B,KAF/B,WAE4CC,aAAUC,YAFtD,CADkC;AAAA,CAA7B;;;;AAKA,SAASC,WAAT,CAAqBC,QAArB,EAA+BC,KAA/B,EAAsC;AAC3C,MAAIC,UAAU,GAAG,CAAjB;;AACA,MAAID,KAAK,KAAK,MAAd,EAAsB;AACpBC,IAAAA,UAAU,GAAG,CAAC,CAAd;AACD;;AACD,SAAO,UAASC,CAAT,EAAYC,CAAZ,EAAe;AAEpB,QAAID,CAAC,CAACH,QAAD,CAAD,GAAcI,CAAC,CAACJ,QAAD,CAAnB,EAA+B;AAC7B,aAAO,CAAC,CAAD,GAAKE,UAAZ;AAED,KAHD,MAGO,IAAIC,CAAC,CAACH,QAAD,CAAD,GAAcI,CAAC,CAACJ,QAAD,CAAnB,EAA+B;AACpC,aAAOE,UAAP;AAED,KAHM,MAGA;AACL,aAAO,CAAP;AACD;AACF,GAXD;AAYD;;AAEM,SAASG,iBAAT,GAA6B;AAClC,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,OAAO,GAAG,IAAd;AACA,SAAO,YAAW;AAChB,QAAIC,sBAASC,EAAT,KAAgB,SAApB,EAA+B;AAC7B,UAAMC,QAAQ,GAAGC,yBAAYC,gBAAZ,CAA6B,mBAA7B,EAAkD,YAAM;AAEvEN,QAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;;AACA,YAAIA,KAAK,GAAG,CAAZ,EAAe;AACbO,UAAAA,OAAO;AACR,SAFD,MAEO;AACL,oDAAY;AACVC,YAAAA,OAAO,EAAEC,iBAAKC,CAAL,CAAO,iBAAP,CADC;AAEVC,YAAAA,QAAQ,EAAE,QAFA;AAGVC,YAAAA,QAAQ,EAAE,IAHA;AAIVC,YAAAA,UAAU,kCACLC,2BAAeC,KADV;AAERC,cAAAA,KAAK,EAAE;AAFC,cAJA;AAQVC,YAAAA,KAAK,EAAE;AACLC,cAAAA,YAAY,EAAE,EADT;AAELC,cAAAA,gBAAgB,EAAEC,gBAAOC,MAAP,CAAcC,KAAd,GAAsB,GAFnC;AAGLC,cAAAA,YAAY,EAAE,EAHT;AAILC,cAAAA,cAAc,EAAE,QAJX;AAKLC,cAAAA,UAAU,EAAE,QALP;AAMLC,cAAAA,SAAS,EAAE,QANN;AAOLC,cAAAA,eAAe,EAAE;AAPZ;AARG,WAAZ;AAkBD;;AACD,YAAI1B,OAAO,IAAI,IAAf,EAAqB;AACnB2B,mCAAWC,aAAX,CAAyB5B,OAAzB;AACD;;AACDA,QAAAA,OAAO,GAAG2B,yBAAWE,WAAX,CAAuB,YAAM;AACrC,cAAI9B,KAAK,GAAG,CAAZ,EAAe;AAEbA,YAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACD,WAHD,MAGO;AACL4B,qCAAWC,aAAX,CAAyB5B,OAAzB;AACD;AACF,SAPS,EAOP,IAPO,CAAV;AAQA,eAAO,IAAP;AACD,OArCgB,CAAjB;;AAsCA,aAAO,YAAM;AACXG,QAAAA,QAAQ,CAAC2B,MAAT;AACD,OAFD;AAGD;AACF,GA5CD;AA6CD;;AAEM,SAASxB,OAAT,GAAmB;AACxBF,2BAAY2B,OAAZ;AACD","sourcesContent":["import AppConfig from '../config/App.config';\r\nimport {BackHandler, Platform} from 'react-native';\r\nimport {showMessage} from 'react-native-flash-message';\r\nimport {BaseFontStyles} from '../constants/BaseStyles';\r\nimport TimerMixin from 'react-timer-mixin';\r\nimport i18n from 'i18next';\r\nimport Layout from '../constants/Layout';\r\n\r\nexport const formatCurrency = amount =>\r\n  Number(amount.toFixed(0))\r\n    .toLocaleString()\r\n    .replace(/\\d(?=(\\d{3})+$)/g, '$&,') + ` ${AppConfig.CurrencyUnit}`;\r\n\r\nexport function dynamicSort(property, order) {\r\n  let sort_order = 1;\r\n  if (order === 'desc') {\r\n    sort_order = -1;\r\n  }\r\n  return function(a, b) {\r\n    // a should come before b in the sorted order\r\n    if (a[property] < b[property]) {\r\n      return -1 * sort_order;\r\n      // a should come after b in the sorted order\r\n    } else if (a[property] > b[property]) {\r\n      return sort_order;\r\n      // a and b are the same\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n}\r\n\r\nexport function backButtonHandler() {\r\n  let count = 0;\r\n  let handler = null;\r\n  return function() {\r\n    if (Platform.OS === 'android') {\r\n      const listener = BackHandler.addEventListener('hardwareBackPress', () => {\r\n        // console.log(count, 'press', count + 1, route);\r\n        count = count + 1;\r\n        if (count > 1) {\r\n          ExitApp();\r\n        } else {\r\n          showMessage({\r\n            message: i18n.t('common.backNoti'),\r\n            position: 'bottom',\r\n            duration: 1000,\r\n            titleStyle: {\r\n              ...BaseFontStyles.body1,\r\n              color: '#fff',\r\n            },\r\n            style: {\r\n              marginBottom: 10,\r\n              marginHorizontal: Layout.window.width * 0.1,\r\n              borderRadius: 50,\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              textAlign: 'center',\r\n              paddingVertical: 0,\r\n            },\r\n          });\r\n        }\r\n        if (handler != null) {\r\n          TimerMixin.clearInterval(handler);\r\n        }\r\n        handler = TimerMixin.setInterval(() => {\r\n          if (count > 0) {\r\n            // console.log(count, 'down', count - 1);\r\n            count = count - 1;\r\n          } else {\r\n            TimerMixin.clearInterval(handler);\r\n          }\r\n        }, 1000);\r\n        return true;\r\n      });\r\n      return () => {\r\n        listener.remove();\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nexport function ExitApp() {\r\n  BackHandler.exitApp();\r\n}"]},"metadata":{},"sourceType":"script"}