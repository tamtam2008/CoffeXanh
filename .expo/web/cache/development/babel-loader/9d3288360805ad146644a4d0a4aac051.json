{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _reactPoseCore = _interopRequireDefault(require(\"react-pose-core\"));\n\nvar _utils = require(\"./inc/utils\");\n\nvar _animatedPose = _interopRequireDefault(require(\"animated-pose\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _heyListen = require(\"hey-listen\");\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar posed = (0, _reactPoseCore.default)({\n  componentMap: {\n    View: _reactNative.Animated.View,\n    Image: _reactNative.Animated.Image,\n    Text: _reactNative.Animated.Text,\n    ScrollView: _reactNative.Animated.ScrollView\n  },\n  poseFactory: _animatedPose.default,\n  getStylesFromPoser: _utils.getStylesFromPoser,\n  createAnimatedComponent: function createAnimatedComponent(Component) {\n    return _reactNative.Animated.createAnimatedComponent(Component);\n  },\n  filterConfig: function filterConfig(_a) {\n    var draggable = _a.draggable,\n        config = __rest(_a, [\"draggable\"]);\n\n    return config;\n  },\n  transformConfig: function transformConfig(config) {\n    var draggable = config.draggable;\n    if (!draggable) return;\n    config._drag = {\n      x: 0,\n      y: 0\n    };\n    config.props = __assign({}, config.props, {\n      useNativeDriver: false\n    });\n  },\n  getProps: function getProps(poser, _a, _b, setLayout) {\n    var draggable = _a.draggable;\n    var onDragStart = _b.onDragStart,\n        onDragEnd = _b.onDragEnd,\n        flipMove = _b.flipMove,\n        measureSelf = _b.measureSelf;\n    var props = {};\n\n    if (draggable) {\n      (0, _heyListen.warning)(false, 'draggable: true disables useNativeDriver for this component.');\n      var values_1 = poser.get();\n      var dragX_1 = draggable === true || draggable === 'x';\n      var dragY_1 = draggable === true || draggable === 'y';\n\n      var panResponder = _reactNative.PanResponder.create({\n        onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture() {\n          return true;\n        },\n        onPanResponderMove: _reactNative.Animated.event([null, {\n          dx: dragX_1 ? values_1.x : null,\n          dy: dragY_1 ? values_1.y : null\n        }]),\n        onPanResponderGrant: function onPanResponderGrant(e, gestureState) {\n          if (dragX_1) {\n            values_1.x.setOffset(values_1.x._value);\n            values_1.x.setValue(0);\n          }\n\n          if (dragY_1) {\n            values_1.y.setOffset(values_1.y._value);\n            values_1.y.setValue(0);\n          }\n\n          if (onDragStart) onDragStart(e, gestureState);\n          poser.set('dragging', {\n            gestureState: gestureState\n          });\n        },\n        onPanResponderRelease: function onPanResponderRelease(e, gestureState) {\n          if (onDragEnd) onDragEnd(e, gestureState);\n          if (dragX_1) values_1.x.flattenOffset();\n          if (dragY_1) values_1.y.flattenOffset();\n          poser.set('dragEnd', {\n            gestureState: gestureState\n          });\n        }\n      });\n\n      props = __assign({}, props, panResponder.panHandlers);\n    }\n\n    if (flipMove || measureSelf) {\n      props.onLayout = function (_a) {\n        var nativeEvent = _a.nativeEvent;\n        return setLayout(nativeEvent.layout);\n      };\n    }\n\n    return props;\n  }\n});\nvar _default = posed;\nexports.default = _default;","map":{"version":3,"sources":["../src/posed.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport createPosed from 'react-pose-core';\nimport { getStylesFromPoser } from './inc/utils';\nimport pose from 'animated-pose';\nimport { Animated, PanResponder } from 'react-native';\nimport { warning } from 'hey-listen';\nvar posed = createPosed({\n    componentMap: {\n        View: Animated.View,\n        Image: Animated.Image,\n        Text: Animated.Text,\n        ScrollView: Animated.ScrollView\n    },\n    poseFactory: pose,\n    getStylesFromPoser: getStylesFromPoser,\n    createAnimatedComponent: function (Component) {\n        return Animated.createAnimatedComponent(Component);\n    },\n    filterConfig: function (_a) {\n        var draggable = _a.draggable, config = __rest(_a, [\"draggable\"]);\n        return config;\n    },\n    transformConfig: function (config) {\n        var draggable = config.draggable;\n        if (!draggable)\n            return;\n        config._drag = { x: 0, y: 0 };\n        config.props = __assign({}, config.props, { useNativeDriver: false });\n    },\n    getProps: function (poser, _a, _b, setLayout) {\n        var draggable = _a.draggable;\n        var onDragStart = _b.onDragStart, onDragEnd = _b.onDragEnd, flipMove = _b.flipMove, measureSelf = _b.measureSelf;\n        var props = {};\n        if (draggable) {\n            warning(false, 'draggable: true disables useNativeDriver for this component.');\n            var values_1 = poser.get();\n            var dragX_1 = draggable === true || draggable === 'x';\n            var dragY_1 = draggable === true || draggable === 'y';\n            var panResponder = PanResponder.create({\n                onMoveShouldSetPanResponderCapture: function () { return true; },\n                onPanResponderMove: Animated.event([\n                    null,\n                    {\n                        dx: dragX_1 ? values_1.x : null,\n                        dy: dragY_1 ? values_1.y : null\n                    }\n                ]),\n                onPanResponderGrant: function (e, gestureState) {\n                    if (dragX_1) {\n                        values_1.x.setOffset(values_1.x._value);\n                        values_1.x.setValue(0);\n                    }\n                    if (dragY_1) {\n                        values_1.y.setOffset(values_1.y._value);\n                        values_1.y.setValue(0);\n                    }\n                    if (onDragStart)\n                        onDragStart(e, gestureState);\n                    poser.set('dragging', { gestureState: gestureState });\n                },\n                onPanResponderRelease: function (e, gestureState) {\n                    if (onDragEnd)\n                        onDragEnd(e, gestureState);\n                    if (dragX_1)\n                        values_1.x.flattenOffset();\n                    if (dragY_1)\n                        values_1.y.flattenOffset();\n                    poser.set('dragEnd', { gestureState: gestureState });\n                }\n            });\n            props = __assign({}, props, panResponder.panHandlers);\n        }\n        if (flipMove || measureSelf) {\n            props.onLayout = function (_a) {\n                var nativeEvent = _a.nativeEvent;\n                return setLayout(nativeEvent.layout);\n            };\n        }\n        return props;\n    }\n});\nexport default posed;\n//# sourceMappingURL=posed.js.map"]},"metadata":{},"sourceType":"script"}